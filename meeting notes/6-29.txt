6/29 2019

Lawrence, Sook-Hee



2 types of tests
- functional
	- asserts
	- diffs
- e2e
	- diff / something like that




google tests? nope; c++11 not supported


|-testGen.py (generates grading dir)
|-tests.py
|-config.json
|-ref
  |-files needed for compilation
  |-Makefile
  |-program.ref
|-grading
  |-input (input for files)
  |-ref (reference output)
  |-tests.py
|-distribute
  |-input (1 test)
  |-ref (1 test)
  |-tests.py
|-


test generation:
	take ref and run tests on them, making reference outputs
	assert # of tests available
	runs tests, sending to referencedir


student test generation:
	takes current test and makes simpliest test
	just runs test01

config.json:
	configuration file
	{
		numtests: 10,
		toDistribute: test04,
		execName: 'money',
		compileCommand: 'make'
	}


test:
	folder of cpp files
		compilation
		0) grep for warnings
		0.5) grep for errors
		--if no errors--
			testXX.cpp
				// test description
				...
				calls print function
		run the program (valgrind --log-file=valgrindOut.txt ./segfault)
		1) grep for segfault -> failed, segfault === segfault
		2) grep voutput for leaks -> failed, leaks === leaks
		3) grep voutput for errors -> failed, errors === errors
		3) diff with reference output

		-- errors? don't run; everything failed

		{
			'test01' : {
				compileWarnings: False,
				compileErrors: False,
				segfault: False,
				memoryLeaks: False,
				memoryErrors: False,
				outputDiffs: False
			}
		}

	save all output to testOutput.txt (if student doesn't have one)
		(grep for) // Test Output
	final report
		- which tests failed, and reason

		test01 -- failed (compilation) -- // insert 4 numbers
		test02 -- passed
		test03 -- failed (output, leaks) -- // deletes 4 numbers
		test04 -- failed (output, errors) -- // number query

		1 of 4 tests passed




features:
	python3 tests.py test05 test06 
	python3 tests.py -output
	python3 tests.py -valgrind



to remember:
	- 72,704 bytes!! possibly lost not a leak


